<div ui-content-for="backAction">
    <a ng-click="back()" class="btn">返回</a>
</div>
<div ui-content-for="title">
    <span>注册</span>
</div>
<div ui-content-for="navbarAction"></div>
<form name="signupForm" ng-submit="ajaxForm(this)">
    <div class="section" ui-state="signUpStep" ui-default="1" ui-if="signUpStep == 1">
        <div class="text-center">
            <img ng-src="../images/logo.png" alt="">
        </div>
        <p class="text-black text-center text-large">请输入手机号进行注册
        </p>
        <div class="section"></div>
        <div class="kk-input-group input-group-lg">
            <span class="kk-input-group-addon"><i class="kk kk-20 kk-phone"></i></span>
            <input type="text" class="form-control" name="telephone" ng-model="input.telephone" required ng-pattern="/(^(13\d|14[57]|15[^4,\D]|17[678]|18\d)\d{8}|170[059]\d{7})$/" placeholder="请输入手机号">
            <span class="kk-input-tip" ng-show="!signupForm.telephone.$valid">请输入11位手机号码</span>
        </div>
        <div class="section-wide">
            <button type="button" class="btn btn-lg btn-primary block full-width" ng-click="nextStep()" ng-disabled="signupForm.telephone.$error.pattern || signupForm.telephone.$error.required">下一步</button>
        </div>
    </div>
    <div class="section" ui-if="signUpStep == 2">
        <div class="section"></div>
        <div class="semi-auto semi-right-150">
            <div class="kk-input-group input-group-lg full-width">
                <span class="kk-input-group-addon"><i class="kk kk-20 kk-phone"></i></span>
                <input type="text" class="form-control border-radius-large" ng-model="input.smscode" name="smscode" ng-pattern="/^[0-9]+$/" ng-minlength=6 ng-maxlength=6 required placeholder="短信验证码">
                <span class="kk-input-tip" ng-show="!signupForm.smscode.$valid">验证码为发送到您手机的四位数</span>
            </div>
            <div class="semi-fixed-right semi-width-150 input-group input-group-lg text-center">
                <button type="button" class="btn btn-primary btn-lg" ng-click="getSmscode()" ng-disabled="callbackTimer.counting">
                    <timer id="kkcountdown" interval="1000" countdown="5" auto-start='false' ng-show="callbackTimer.counting" finish-callback="callbackTimer.finish()">{{countdown + 1}}</timer>
                    获取验证码
                </button>
            </div>
        </div>
        <div class="section-wide">
            <div class="kk-input-group input-group-lg full-width">
                <span class="kk-input-group-addon"><i class="kk kk-20 kk-password"></i></span>
                <input type="password" class="form-control border-radius-large" name="password" ng-model="input.password" required ng-minlength=8 placeholder="新密码 请输入新密码">
                <span class="kk-input-tip" ng-show="!signupForm.password.$valid">新密码,将作为您登录系统用的密码,并确保密码位数不少于8位</span>
            </div>
        </div>
        <div class="section-wide">
            <div class="btn-group">
                <a ui-turn-on='myDropdown' class='btn'>
                    <i class="fa fa-ellipsis-v"></i> 选择身份
                </a>
                <ul class="dropdown-menu" ui-outer-click="Ui.turnOff('myDropdown')" ui-outer-click-if="Ui.active('myDropdown')" role="menu" ui-show="myDropdown" ui-state="myDropdown" ui-turn-off="myDropdown">

                    <li class="section">
                        <label>
                            <input type="radio" name="identify" ng-model="input.referee" class="hide" value="培训方">培训方</label>
                    </li>
                    <li class="divider"></li>
                    <li class="section">
                        <label>
                            <input type="radio" name="identify" ng-model="input.referee" class="hide" value="学生">学生</label>
                    </li>
                </ul>
            </div>
        </div>
        <div class="section-wide">
            <div class="kk-input-group input-group-lg full-width">
                <span class="kk-input-group-addon"><i class="kk kk-20 kk-user"></i></span>
                <input type="text" class="form-control border-radius-large" name="referee" ng-model="input.referee" placeholder="请选择身份" required readonly>
            </div>
        </div>
        <div class="section-wide">
            <button type="submit" class="btn btn-lg btn-primary block full-width" ng-disabled="signupForm.$invalid">注册</button>
        </div>
    </div>
</form>
